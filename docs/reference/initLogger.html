<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Initialize a log object. — initLogger • ecr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ecr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jakobbossek/ecr2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Initialize a log object.</h1>
    </div>

    
    <p>Logging is a central aspect of each EA. Besides the final solution(s)
especially in research often we need to keep track of different aspects of the
evolutionary process, e.g., fitness statistics. The logger of ecr2 keeps
track of different user-defined statistics and the population.
It may also be used to check stopping conditions (see <code>makeECRTerminator</code>). Most
important this logger is used internally by the <code><a href='ecr.html'>ecr</a></code> black-box interface.</p>
    

    <pre class="usage"><span class='fu'>initLogger</span>(<span class='no'>control</span>, <span class='kw'>log.stats</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>fitness</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"min"</span>, <span class='st'>"mean"</span>, <span class='st'>"max"</span>)),
  <span class='kw'>log.pop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>init.size</span> <span class='kw'>=</span> <span class='fl'>1000L</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>control</th>
      <td><p>[<code>ecr_control</code>]
Control object.</p></td>
    </tr>
    <tr>
      <th>log.stats</th>
      <td><p>[<code>list</code>]
List of lists for statistic computation on attributes of the individuals
of the population. Each entry should be named by the attribute it should be
based on, e.g., fitness, and should contain a list of R functions as a
character string or a a list with elements <code>fun</code> for the function, and <code>pars</code> for additional
parameters which shall be passed to the corresponding function.
Each function is required to return a scalar numeric value.
By default the minimum, mean and maximum of the fitness values is computed.
Since fitness statistics are the most important ones these do not have to
be stored as attributes, but can be passed as a matrix to the update function.</p></td>
    </tr>
    <tr>
      <th>log.pop</th>
      <td><p>[<code>logical(1)</code>]
Shall the entire population be saved in each generation?
Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>init.size</th>
      <td><p>[<code>integer(1)</code>]
Initial number of rows of the slot of the logger, where the fitness
statistics are stored. The size of the statistics log is doubled each time an
overflow occurs.
Default is 1000.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>[<code>ecr_logger</code>]
  An S3 object of class <code>ecr_logger</code> with the following components:</p><dl class='dl-horizontal'>
    <dt>log.stats</dt><dd><p>The <code>log.stats</code> list.</p></dd>
    <dt>log.pop</dt><dd><p>The <code>log.pop</code> parameter.</p></dd>
    <dt>init.size</dt><dd><p>Initial size of the log.</p></dd>
    <dt>env</dt><dd><p>The actual log. This is an R environment which ensures, that
    in-place modification is possible.</p></dd>
  </dl>

    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other logging: <code><a href='getPopulations.html'>getPopulations</a></code>,
  <code><a href='getStatistics.html'>getStatistics</a></code>, <code><a href='updateLogger.html'>updateLogger</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>control</span> <span class='kw'>=</span> <span class='fu'><a href='initECRControl.html'>initECRControl</a></span>(<span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'>sum</span>(<span class='no'>x</span>), <span class='kw'>minimize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>n.objectives</span> <span class='kw'>=</span> <span class='fl'>1L</span>)
<span class='no'>control</span> <span class='kw'>=</span> <span class='fu'><a href='registerECROperator.html'>registerECROperator</a></span>(<span class='no'>control</span>, <span class='st'>"mutate"</span>, <span class='no'>mutBitflip</span>, <span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>0.1</span>)
<span class='no'>control</span> <span class='kw'>=</span> <span class='fu'><a href='registerECROperator.html'>registerECROperator</a></span>(<span class='no'>control</span>, <span class='st'>"selectForMating"</span>, <span class='no'>selTournament</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>control</span> <span class='kw'>=</span> <span class='fu'><a href='registerECROperator.html'>registerECROperator</a></span>(<span class='no'>control</span>, <span class='st'>"selectForSurvival"</span>, <span class='no'>selGreedy</span>)

<span class='no'>log</span> <span class='kw'>=</span> <span class='fu'>initLogger</span>(<span class='no'>control</span>,
  <span class='kw'>log.stats</span> <span class='kw'>=</span> <span class='fu'>list</span>(
    <span class='kw'>fitness</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"mean"</span>, <span class='st'>"myRange"</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'>max</span>(<span class='no'>x</span>) - <span class='fu'>min</span>(<span class='no'>x</span>)),
    <span class='kw'>age</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"min"</span>, <span class='st'>"max"</span>)
  ), <span class='kw'>log.pop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>init.size</span> <span class='kw'>=</span> <span class='fl'>1000L</span>)

 <span class='co'># simply pass stuff down to control object constructor</span>
<span class='no'>population</span> <span class='kw'>=</span> <span class='fu'><a href='initPopulation.html'>initPopulation</a></span>(<span class='kw'>mu</span> <span class='kw'>=</span> <span class='fl'>10L</span>, <span class='no'>genBin</span>, <span class='kw'>n.dim</span> <span class='kw'>=</span> <span class='fl'>10L</span>)
<span class='no'>fitness</span> <span class='kw'>=</span> <span class='fu'><a href='evaluateFitness.html'>evaluateFitness</a></span>(<span class='no'>control</span>, <span class='no'>population</span>)

<span class='co'># append fitness to individuals and init age</span>
<span class='kw'>for</span> (<span class='no'>i</span> <span class='kw'>in</span> <span class='fu'>seq_along</span>(<span class='no'>population</span>)) {
  <span class='fu'>attr</span>(<span class='no'>population</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='st'>"fitness"</span>) <span class='kw'>=</span> <span class='no'>fitness</span>[, <span class='no'>i</span>]
  <span class='fu'>attr</span>(<span class='no'>population</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='st'>"age"</span>) <span class='kw'>=</span> <span class='fl'>1L</span>
}

<span class='kw'>for</span> (<span class='no'>iter</span> <span class='kw'>in</span> <span class='fu'>seq_len</span>(<span class='fl'>10</span>)) {
  <span class='co'># generate offspring</span>
  <span class='no'>offspring</span> <span class='kw'>=</span> <span class='fu'><a href='generateOffspring.html'>generateOffspring</a></span>(<span class='no'>control</span>, <span class='no'>population</span>, <span class='no'>fitness</span>, <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>5</span>)
  <span class='no'>fitness.offspring</span> <span class='kw'>=</span> <span class='fu'><a href='evaluateFitness.html'>evaluateFitness</a></span>(<span class='no'>control</span>, <span class='no'>offspring</span>)

  <span class='co'># update age of population</span>
  <span class='kw'>for</span> (<span class='no'>i</span> <span class='kw'>in</span> <span class='fu'>seq_along</span>(<span class='no'>population</span>)) {
    <span class='fu'>attr</span>(<span class='no'>population</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='st'>"age"</span>) <span class='kw'>=</span> <span class='fu'>attr</span>(<span class='no'>population</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='st'>"age"</span>) + <span class='fl'>1L</span>
  }

  <span class='co'># set offspring attributes</span>
  <span class='kw'>for</span> (<span class='no'>i</span> <span class='kw'>in</span> <span class='fu'>seq_along</span>(<span class='no'>offspring</span>)) {
    <span class='fu'>attr</span>(<span class='no'>offspring</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='st'>"fitness"</span>) <span class='kw'>=</span> <span class='no'>fitness.offspring</span>[, <span class='no'>i</span>]
    <span class='co'># update age</span>
    <span class='fu'>attr</span>(<span class='no'>offspring</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='st'>"age"</span>) <span class='kw'>=</span> <span class='fl'>1L</span>
  }

  <span class='no'>sel</span> <span class='kw'>=</span> <span class='fu'><a href='replace.html'>replaceMuPlusLambda</a></span>(<span class='no'>control</span>, <span class='no'>population</span>, <span class='no'>offspring</span>)

  <span class='no'>population</span> <span class='kw'>=</span> <span class='no'>sel</span>$<span class='no'>population</span>
  <span class='no'>fitness</span> <span class='kw'>=</span> <span class='no'>sel</span>$<span class='no'>fitness</span>

  <span class='co'># do some logging</span>
  <span class='fu'><a href='updateLogger.html'>updateLogger</a></span>(<span class='no'>log</span>, <span class='no'>population</span>, <span class='kw'>n.evals</span> <span class='kw'>=</span> <span class='fl'>5</span>)
}
<span class='fu'>head</span>(<span class='fu'><a href='getStatistics.html'>getStatistics</a></span>(<span class='no'>log</span>))</div><div class='output co'>#&gt;   gen fitness.mean fitness.myRange age.min age.max
#&gt; 1   1          4.7               2       1       2
#&gt; 2   2          3.9               3       1       3
#&gt; 3   3          3.4               2       1       4
#&gt; 4   4          3.0               2       1       5
#&gt; 5   5          2.0               0       1       4
#&gt; 6   6          2.0               0       2       5</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jakob Bossek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
